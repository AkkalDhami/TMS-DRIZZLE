<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <%- include('../partials/head') %>
</head>

<body data-theme="light" class="h-full font-monts bg-primary transition-colors duration-200">
    <%- include('../partials/nav') %>
        <%- include('../partials/sidebar') %>
            <%- include('../partials/loader') %>

                <main id="main-content" class="pt-24 mb-19
             text-dark px-4 transition-all duration-300 md:ml-[270px]">

                    <!-- Overview Cards -->
                    <div class="rounded-xl shadow-lg mb-8">
                        <div class="flex justify-between items-center mb-6">
                            <h3 class="text-xl font-semibold text-[var(--text-color)]">
                                Task Stats Overview
                            </h3>
                        </div>
                        <div data-widget-id="overview-cards"
                            class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                            <div
                                class="bg-card duration-200 p-6 rounded-xl border-t-5 border-orange-500 backdrop-blur-[20px]">
                                <div class="flex items-center justify-between mb-4">
                                    <h3 class="text-lg font-semibold">Total Tasks</h3>
                                    <i class="ri-task-line text-2xl text-orange-500"></i>
                                </div>
                                <p id="totalTasksCount" class="text-3xl font-bold">0</p>
                                <p class="text-gray mt-2">All time tasks</p>
                            </div>

                            <div
                                class="bg-card duration-200 p-6 rounded-xl border-t-5 border-teal-500 backdrop-blur-[20px]">
                                <div class="flex items-center justify-between mb-4">
                                    <h3 class="text-lg font-semibold">Completed Tasks</h3>
                                    <i class="ri-shield-check-line text-2xl text-teal-500"></i>
                                </div>
                                <p id="completedTasksCount" class="text-3xl font-bold">0</p>
                                <p class="text-gray mt-2">Tasks completed</p>
                            </div>

                            <div
                                class="bg-card duration-200 p-6 rounded-xl border-t-5 border-yellow-500 backdrop-blur-[20px]">
                                <div class="flex items-center justify-between mb-4">
                                    <h3 class="text-lg font-semibold">Pending Tasks</h3>
                                    <i class="ri-time-line text-2xl text-yellow-500"></i>
                                </div>
                                <p id="inPendingCount" class="text-3xl font-bold">0</p>
                                <p class="text-gray mt-2">Tasks pending</p>
                            </div>

                            <div
                                class="bg-card duration-200 p-6 rounded-xl border-t-5 border-blue-500 backdrop-blur-[20px]">
                                <div class="flex items-center justify-between mb-4">
                                    <h3 class="text-lg font-semibold">In Progress Tasks</h3>
                                    <i class="ri-hourglass-line  text-2xl text-blue-500"></i>
                                </div>
                                <p id="inProgressCount" class="text-3xl font-bold">0</p>
                                <p class="text-gray mt-2">Tasks In Progress</p>
                            </div>

                            <div
                                class="bg-card duration-200 p-6 rounded-xl border-t-5 border-green-500 backdrop-blur-[20px]">
                                <div class="flex items-center justify-between mb-4">
                                    <h3 class="text-lg font-semibold">Completion Rate</h3>
                                    <i class="ri-percent-line text-2xl text-green-500"></i>
                                </div>
                                <p id="completionRate" class="text-3xl font-bold">0%</p>
                                <p class="text-gray mt-2">Tasks completed</p>
                            </div>

                            <div
                                class="bg-card duration-200 p-6 rounded-xl border-t-5 border-cyan-500 backdrop-blur-[20px]">
                                <div class="flex items-center justify-between mb-4">
                                    <h3 class="text-lg font-semibold">Upcoming Tasks</h3>
                                    <i class="ri-calendar-line text-2xl text-cyan-500"></i>
                                </div>
                                <p id="upcomingTasksCount" class="text-3xl font-bold">0</p>
                                <p class="text-gray mt-2">Tasks due in next 7 days</p>
                            </div>

                            <div
                                class="bg-card duration-200 p-6 rounded-xl border-t-5 border-purple-500 backdrop-blur-[20px]">
                                <div class="flex items-center justify-between mb-4">
                                    <h3 class="text-lg font-semibold">Due Soon</h3>
                                    <i class="ri-timer-line text-2xl text-purple-500"></i>
                                </div>
                                <p id="dueSoonCount" class="text-3xl font-bold">0</p>
                                <p class="text-gray mt-2">Tasks due in 24h</p>
                            </div>

                            <div
                                class="bg-card duration-200 p-6 rounded-xl border-t-5 border-red-500 backdrop-blur-[20px]">
                                <div class="flex items-center justify-between mb-4">
                                    <h3 class="text-lg font-semibold">Overdue</h3>
                                    <i class="ri-error-warning-line text-2xl text-red-500"></i>
                                </div>
                                <p id="overdueCount" class="text-3xl font-bold">0</p>
                                <p class="text-gray mt-2">Tasks overdue</p>
                            </div>

                            <div
                                class="bg-card duration-200 p-6 rounded-xl border-t-5 border-pink-500 backdrop-blur-[20px]">
                                <div class="flex items-center justify-between mb-4">
                                    <h3 class="text-lg font-semibold">Priority Tasks</h3>
                                    <i class="ri-star-line text-2xl text-pink-500"></i>
                                </div>
                                <p id="priorityCount" class="text-3xl font-bold">0</p>
                                <p class="text-gray mt-2">High priority tasks</p>
                            </div>

                            <div
                                class="bg-card duration-200 p-6 rounded-xl border-t-5 border-emerald-500 backdrop-blur-[20px]">
                                <div class="flex items-center justify-between mb-4">
                                    <h3 class="text-lg font-semibold">Productive Time</h3>
                                    <i class="ri-time-line text-2xl text-emerald-500"></i>
                                </div>
                                <p id="mostProductiveTime" class="text-xl font-bold">Not Enough Data</p>
                                <p class="text-gray mt-2">Most Productive Time</p>
                            </div>

                            <div
                                class="bg-card duration-200 p-6 rounded-xl border-t-5 border-red-500 backdrop-blur-[20px]">
                                <div class="flex items-center justify-between mb-4">
                                    <h3 class="text-lg font-semibold">Favorite Category</h3>
                                    <i class="ri-heart-line text-2xl text-red-500"></i>
                                </div>
                                <p id="favoriteCategory" class="text-xl font-bold">Not Enough Data</p>
                                <p class="text-gray capitalize mt-2">Favorite Category</p>
                            </div>

                            <div
                                class="bg-card duration-200 p-6 rounded-xl border-t-5 border-indigo-500 backdrop-blur-[20px]">
                                <div class="flex items-center justify-between mb-4">
                                    <h3 class="text-lg font-semibold">
                                        Best Completion Day</h3>
                                    <i class="ri-star-line text-2xl text-indigo-600"></i>
                                </div>
                                <p id="bestCompletionDay" class="text-xl font-bold">Not Enough Data</p>
                                <p class="text-gray mt-2">
                                    Best Completion Day</p>
                            </div>


                        </div>
                        <div id="progressSection" class=" p-4 sm:p-6 rounded-xl shadow-lg">
                            <div class="flex justify-between items-center mb-4">
                                <h2 class="text-[18px] sm:text-xl font-semibold text-orange-500 mb-6">
                                    Your Progress
                                </h2>
                                <span id="progressPercentage" class="text-[16px] text-gray font-semibold">0/0</span>
                            </div>
                            <div class="relative group">
                                <div id="progressContainer"
                                    class="progress-container z-10 h-3 bg-zinc-500/30 rounded overflow-hidden relative">
                                    <div id="progress-bar"
                                        class="h-full bg-green-600 rounded transition-all duration-500">
                                    </div>
                                </div>

                                <div id="tooltip"
                                    class="absolute opacity-0 min-w-[130px] py-2 left-1/2 group-hover:opacity-100 duration-300 top-[0.3rem] group-hover:-top-[1.8rem] transform bg-orange-600 after:absolute px-2 after:bottom-[-0.9rem] after:left-1/2 after:transform after:-translate-x-1/2 after:border-8 after:border-transparent after:border-t-orange-600 h-8 rounded -translate-y-1/2 flex items-center justify-center text-sm font-semibold text-white">
                                    0% Completed
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- display weekly and daily distribution in chart -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">


                        <div data-widget-id="daily-distribution"
                            class="  duration-200 p-6 rounded-xl border border-zinc-500/30 hover:border-orange-500 backdrop-blur-[20px] mb-8">

                            <h3 class="text-xl font-semibold mb-6">Daily Task Distribution</h3>

                            <div class="flex items-center justify-between flex-wrap gap-2 mb-3">


                                <div class="flex items-center flex-wrap gap-2">
                                    <input type="date" id="dailyDistributionDate"
                                        class="px-3 py-2 rounded-lg   border border-purple-500/20 focus:outline-none focus:border-purple-500 transition-colors">
                                    <button id="updateDailyDistributionBtn"
                                        class="px-3 py-2 rounded-lg bg-orange-500 hover:bg-orange-600 text-white transition-colors">
                                        Update
                                    </button>
                                </div>
                            </div>
                            <div class="max-h-[300px] h-full">
                                <canvas id="dailyDistributionChart"></canvas>
                            </div>
                        </div>

                        <!-- Task Distribution by Category -->
                        <div data-widget-id="category-chart"
                            class="  hover:border-orange-500 duration-200 p-6 rounded-xl border border-zinc-500/30 backdrop-blur-[20px]">
                            <h3 class="text-xl font-semibold mb-6">
                                Task Distribution by Category
                            </h3>
                            <div class="h-[300px]">
                                <canvas id="categoryChart"></canvas>
                            </div>
                        </div>

                        <!-- Repeatable Task Distribution -->
                        <div data-widget-id="repeatable-chart"
                            class="  hover:border-orange-500 duration-200 p-6 rounded-xl border border-zinc-500/30 backdrop-blur-[20px]">
                            <h3 class="text-xl font-semibold mb-6">Task Distribution by Repeatability</h3>
                            <div class="h-[300px]">
                                <canvas id="repeatableChart"></canvas>
                            </div>
                        </div>


                        <!-- Priority Distribution -->
                        <div data-widget-id="priority-chart"
                            class="  hover:border-orange-500 duration-200 p-6 rounded-xl border border-zinc-500/30 backdrop-blur-[20px]">
                            <h3 class="text-xl font-semibold mb-6">Task Distribution by Priority</h3>
                            <div class="h-[300px]">
                                <canvas id="priorityChart"></canvas>
                            </div>
                        </div>

                        <!-- Recent Tasks -->
                        <div data-widget-id="recent-tasks"
                            class="  duration-200 p-6 rounded-xl border border-zinc-500/30 backdrop-blur-[20px] hover:border-orange-500">
                            <h3 class="text-xl font-semibold mb-6">Recent Tasks</h3>
                            <div id="recentTasks" class="space-y-4 no-scrollbar max-h-[300px] overflow-y-auto">

                            </div>
                        </div>


                        <!-- Task Completion Trend -->
                        <div data-widget-id="trend-chart"
                            class="  hover:border-orange-500 duration-200 p-6 rounded-xl border border-zinc-500/30 backdrop-blur-[20px]">
                            <h3 class="text-xl font-semibold mb-6">Task Completion Trend</h3>
                            <div class="h-[300px]">
                                <canvas id="trendChart"></canvas>
                            </div>
                        </div>

                        <!-- Time Distribution -->
                        <div data-widget-id="time-distribution"
                            class="  hover:border-orange-500 duration-200 p-6 rounded-xl border border-zinc-500/30 backdrop-blur-[20px]">
                            <h3 class="text-xl font-semibold mb-6">Tasks by Time of Day</h3>
                            <div class="h-[300px]">
                                <canvas id="timeDistributionChart"></canvas>
                            </div>
                        </div>

                        <!-- Productivity Score -->
                        <div data-widget-id="productivity-score"
                            class="  hover:border-orange-500 duration-200 p-6 rounded-xl border border-zinc-500/30 backdrop-blur-[20px]">
                            <h3 class="text-xl font-semibold mb-6">Productivity Score</h3>
                            <div class="flex items-center justify-between mb-6">
                                <div>
                                    <p id="productivityScore" class="text-4xl font-bold mb-2">0</p>
                                    <p class="text-gray">Current Week's Score</p>
                                </div>
                                <div class="text-right">
                                    <p id="productivityTrend" class="text-lg font-semibold mb-1">
                                        0%
                                    </p>
                                    <p class="text-gray">vs Last Week</p>
                                </div>
                            </div>
                            <div class="h-[200px]">
                                <canvas id="productivityTrendChart"></canvas>
                            </div>
                        </div>

                        <!-- Task Completion Heatmap -->
                        <div data-widget-id="completion-heatmap"
                            class="  duration-200 p-6 rounded-xl border border-zinc-500/30 backdrop-blur-[20px] hover:border-orange-500">
                            <h3 class="text-xl font-semibold mb-6">Task Completion Heatmap</h3>
                            <div class="h-[300px]">
                                <canvas id="completionHeatmap"></canvas>
                            </div>
                        </div>

                        <!-- Category Performance -->
                        <div data-widget-id="category-performance"
                            class="  duration-200 p-6 rounded-xl border border-zinc-500/30 backdrop-blur-[20px] hover:border-orange-500">
                            <h3 class="text-xl font-semibold mb-6">Category Performance</h3>
                            <div class="h-[300px] overflow-y-auto">
                                <div id="categoryPerformance" class="space-y-4">
                                </div>
                            </div>
                        </div>
                    </div>

                </main>

                <%- include('../partials/footer') %>

                <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
                <script type="module" src="/javascripts/pages/dashboard.js"></script>
                <%- include('../partials/utiljs') %>
</body>

</html>